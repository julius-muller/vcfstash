version: '3.8'

services:
  vcfstash:
    build:
      context: ..
      dockerfile: docker/Dockerfile
    volumes:
      - ${REFERENCE_DIR:-./reference}:/reference:ro
      - ${DATA_DIR:-./data}:/data
      - ${CACHE_DIR:-./cache}:/cache
    environment:
      - REFERENCE_PATH=/reference
    # The entrypoint is defined in the Dockerfile
    # Override the command when running with docker-compose

volumes:
  cache:
    driver: local
